<'hippo'='http://www.onehippo.org/jcr/hippo/nt/2.0.4'>
<'jcr'='http://www.jcp.org/jcr/1.0'>
<'mix'='http://www.jcp.org/jcr/mix/1.0'>
<'nt'='http://www.jcp.org/jcr/nt/1.0'>

[hippo:compound] > nt:base

[hippo:query] > nt:query

[hippo:facetbasesearch] > nt:base
  - hippo:queryname (string) mandatory
  - hippo:count (long)
  + * (hippo:facetbasesearch) multiple ignore

[hippo:facetresult] > nt:base
  - hippo:count (long)
  + * (nt:base) multiple ignore

[hippo:facetsearch] > hippo:facetbasesearch
  - hippo:docbase (string) mandatory
  - hippo:facets (string) mandatory multiple
  + hippo:resultset (hippo:facetresult) = hippo:facetresult

[hippo:mirror] > nt:base
  - hippo:docbase (string) mandatory
  + * (nt:base) multiple ignore

[hippo:facetselect] > nt:base
  - hippo:values (string) mandatory multiple
  - hippo:modes (string) mandatory multiple < 'select', 'stick', 'clear', 'single', 'prefer', 'prefer-single'
  - hippo:facets (string) mandatory multiple
  - hippo:docbase (string) mandatory
  + * (nt:base) multiple ignore

[hippo:resource] > nt:base
  - jcr:mimeType (string) mandatory
  - hippo:filename (string)
  - hippo:text (binary)
  - jcr:encoding (string)
  - jcr:data (binary) primary mandatory
  - jcr:lastModified (date) mandatory ignore

[hippo:container]
  mixin
  + * (hippo:query) multiple
  + * (hippo:facetsearch) multiple
  + * (hippo:mirror) multiple
  + * (hippo:facetselect) multiple
  + * (hippo:compound) multiple
  + * (hippo:resource) multiple

[hippo:derived]
  mixin
  - hippo:compute (reference)
  - hippo:related (reference) multiple

[hippo:document] > nt:base
  - hippo:availability (string) multiple ignore

[hippo:request] > nt:base

[hippo:handle] > nt:base
  - hippo:discriminator (string) multiple
  + * (hippo:document) = hippo:document multiple version
  + hippo:request (hippo:request) multiple ignore

[hippo:harddocument] > mix:referenceable, mix:versionable, hippo:derived
  mixin
  - hippo:paths (string) mandatory multiple

[hippo:hardhandle] > mix:versionable
  mixin

[hippo:initializeitem] > nt:base
  - hippo:contextnodename (string)
  - hippo:timestamp (long)
  - hippo:namespace (string)
  - hippo:version (string)
  - hippo:contentresource (string)
  - hippo:contentdelete (string)
  - hippo:sequence (double)
  - hippo:status (string) < 'pending', 'done', 'disabled'
  - hippo:nodetypesresource (string)
  - hippo:content (string)
  - hippo:nodetypes (binary)
  - hippo:contentpropadd (string) multiple
  - hippo:contentpropset (string) multiple
  - hippo:reloadonstartup (boolean)
  - hippo:contentroot (string)

[hippo:initializefolder] > nt:base
  orderable
  - hippo:sequence (double)
  - hippo:version (string) multiple
  + * (hippo:initializeitem) = hippo:initializeitem

[hippo:translation] > nt:base
  - hippo:value (string)
  - hippo:language (string) mandatory
  - hippo:message (string) mandatory
  - hippo:property (string)
  - hippo:class (string)

[hippo:translated]
  mixin
  + hippo:translation (hippo:translation) multiple

